Registry.registerRaw("page.js","5549",function(){var Q=function(){return-1!=["text/xml","application/rss+xml"].indexOf(document.contentType)};return{isXML:Q,inject:function(a){var r=Q()?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script");r.textContent=a;(document.head||document.body||document.documentElement||document).appendChild(r);r.parentNode.removeChild(r)},backup:function(a,r,n,D){var b={safeWindow:{},safeDocument:{},eval:eval,Context:{D:D},
exec_fn:function(a,c,M){m(new b.safeWindow.Function(a),c,M)},exec_csp:function(a,c,M){var f="__u__"+(19831206*b.Context.M_r()+1);b.Message.send("csp",{id:f,src:a});b.exec_script(f,c,M)},exec_script:function(a,c,b){var f=window[a];delete window[a];m(f,c,b)}},m,c,A,z,p;(function(){var d=function(a){var c=function(c){return m(a,c,m(A.wrappedJSObject,arguments,[1]))};c.wrappedJSObject=a;return c},L={F_a:m=function(){var c=a.Function.apply;return function(a,b,d){a.apply===c?b=a.apply(b,d):(a[n]=c,b=a[n](b,
d),delete a[n]);return b}}(),E_u:function(c,f){if(b.exec_eval){var d="__u__"+(19831206*b.Context.M_r()+1),n=d+"_";window[n]=f;var e=b.Context.F_c(b.Context.eval,window,"(function() {"+c+'}).apply(window["'+n+'"])');delete a[d];delete a[n];return e}b.exec_csp(c,f)},E_c:function(a,c){b.exec_eval?m(new b.safeWindow.Function(a),c):b.exec_csp(a,c)},F_c:d(a.Function.call),F_b:c=d(a.Function.bind),F_tS:d(a.Function.toString),A_fE:d(a.Array.prototype.forEach),A_sl:A=d(a.Array.prototype.slice),A_sp:d(a.Array.prototype.splice),
A_sh:d(a.Array.prototype.shift),A_j:d(a.Array.prototype.join),A_pu:d(a.Array.prototype.push),A_po:d(a.Array.prototype.pop),A_m:d(a.Array.prototype.map),A_c:d(a.Array.prototype.concat),A_f:d(a.Array.prototype.filter),A_iO:d(a.Array.prototype.indexOf),O_k:a.Object.keys,O_dP:a.Object.defineProperties,O_gOPN:a.Object.getOwnPropertyNames,O_gOPD:a.Object.getOwnPropertyDescriptor,O_gOPDs:a.Object.getOwnPropertyDescriptors||function(a){var c={},b;for(b in a)c[b]=L.O_gOPD(a,b);return c},O_dG:d(a.Object.prototype.__defineGetter__),
O_dS:d(a.Object.prototype.__defineSetter__),O_tS:d(a.Object.prototype.toString),J_p:p=a.JSON.parse,J_s:z=a.JSON.stringify,c_l:a.console.log.bind(a.console),c_i:a.console.info.bind(a.console),c_w:a.console.warn.bind(a.console),c_e:a.console.error.bind(a.console),c_d:a.console.debug.bind(a.console),M_f:a.Math.floor,M_r:a.Math.random,M_m:a.Math.max,N_tS:d(a.Number.prototype.toString),R_rAAB:a.FileReader?d(a.FileReader.prototype.readAsArrayBuffer):void 0,S_fCC:a.String.fromCharCode,S_m:d(a.String.prototype.match),
S_su:d(a.String.prototype.substr),S_se:d(a.String.prototype.search),S_sp:d(a.String.prototype.split),S_r:d(a.String.prototype.replace),S_cCA:d(a.String.prototype.charCodeAt),S_tLC:d(a.String.prototype.toLowerCase),S_tUC:d(a.String.prototype.toUpperCase),D_pFS:d(a.DOMParser.prototype.parseFromString),X_o:d(a.XMLHttpRequest.prototype.open),X_sRH:d(a.XMLHttpRequest.prototype.setRequestHeader),X_oMT:d(a.XMLHttpRequest.prototype.overrideMimeType),X_gARH:d(a.XMLHttpRequest.prototype.getAllResponseHeaders),
X_gRH:d(a.XMLHttpRequest.prototype.getResponseHeader),X_s:d(a.XMLHttpRequest.prototype.send),X_a:d(a.XMLHttpRequest.prototype.abort),D_n:a.Date.now};Object.keys(L).forEach(function(a){b.Context[a]=L[a]});"String Array Object Number parseInt JSON Math Date Event MutationEvent console location Error Uint8Array Blob FileReader DOMParser XMLHttpRequest Function RegExp frames self top document location".split(" ").forEach(function(c){b.safeWindow[c]=a[c]});"postMessage addEventListener removeEventListener setTimeout setInterval clearTimeout clearInterval alert prompt confirm encodeURIComponent decodeURIComponent encodeURI decodeURI escape unescape atob btoa close".split(" ").forEach(function(c){var d=
a[c];b.safeWindow[c]=function(){return m(d,a,arguments)}});b.createSafeDocument=function(a){"getElementById createEvent createElement dispatchEvent addEventListener removeEventListener".split(" ").forEach(function(c){var d=a[c];b.safeDocument[c]=function(){return m(d,a,arguments)}})};b.createSafeDocument(r)})();try{b.Message=function(a,c){var b=function(){return m(c.dispatchEvent,c,arguments)},f=function(){return m(c.addEventListener,c,arguments)},n=function(){return m(c.removeEventListener,c,arguments)},
r=function(a,b){var d=c.createEvent("MutationEvent");d.initMutationEvent(a,!1,!1,null,null,null,z(b),d.ADDITION);return d},e=function(a,c){var b;a&&(b=ca[a])&&(b(c),delete ca[a])},A,D,K,R,S=1,ca={},Y=function(a){var c=p(a.attrName);"message.response"==c.m?e(c.r,c.a):A&&A(c,c.r?function(a){a=r(K,{m:"message.response",a:a,r:c.r});b(a)}:function(){})};return{init:function(a){R||(R=a);K="2C_"+R;D="2P_"+R;f(D,Y,!1)},send:function(a,c,d){if(d){var e=++S;ca[S]=d;d=e}else d=null;a=r(K,{m:a,a:c,r:d});b(a)},
onMessage:{setListener:function(a){A=a}},cleanup:function(){Y&&n(D,Y,!1);Y=null}}}(b.safeWindow,b.safeDocument),b.Message.init(n),b.Message.onMessage.setListener(function(a){if(b)if("load"==a.m)b.Context.pageLoaded=!0;else if("DOMContentLoaded"==a.m)b.Context.domContentLoaded=!0;else if("cleanup"==a.m)b.Message.cleanup(),b=null;else if("next"==a.m)if(a.a.id)b.exec_script(a.a.id,b),b.exec_eval=!1;else{if(void 0===b.exec_eval)try{b.exec_eval=c(b.eval,window)("true")}catch(n){b.exec_eval=!1}b.exec_eval?
b.exec_fn(a.a.src,b):b.exec_csp(a.a.src,b)}})}catch(d){}},next:function(a,r,n,D,b,m,c,A,z,p,d,L,M,f,ma){var I="";A&&(I+="var V = true;\n");p&&(I+="var EV = true;\n");z&&(I+="var ENV = true;\n");p="";if(M||"complete"==document.readyState)p+="Context.pageLoaded |= true;\nContext.domContentLoaded |= true;\n";else if(f||"interactive"==document.readyState)p+="Context.domContentLoaded |= true;\n";return['var backup = this;\n(function TM_back() {var Context = backup.Context;\nvar copy = function(src) {"use strict";var props = Context.O_gOPN(src);for (var kk, ii=0; (kk=props[ii]) !== undefined; ii++) {Context[kk] = src[kk];};};copy(backup);with (Context) {(function() {"use strict";copy({Context: Context,V:',
A?"true":"false",",ENV:",z?"true":"false",",TS:",d?"true":"false",",D:",L?"true":"false",",use:",m,",windowProps:",D,",scripts:",r,",powers:",n,",_content: false,flags:",b,',write_listeners: []});var cleanup = function(evt) {Message.cleanup();safeWindow.removeEventListener("unload", cleanup, false);};safeWindow.addEventListener("unload", cleanup, false);Context.write_listeners.push(function(d) {Context.createSafeDocument(d);Message.init();});',I+("var logLevel = "+c+";\n")+('var contextId = "'+a+
'";\n')+"var Event = function() {};var Window = function() {};Window.prototype = {};"+p+"("+ma+")(Context, contextId);\n","})();};})()"].join("")},environment:function(a,r){var n=a.V,D=a.EV,b=a.D,m=a.Message,c=a.safeWindow,A=a.safeDocument,z=a.flags,p=a.F_a,d=a.F_c,L=a.F_b,M=a.F_tS,f=a.A_fE,ma=a.A_sl,I=a.A_sp,e=a.A_pu,Q=a.A_po,pa=a.A_sh,K=a.A_j,R=a.A_f,S=a.A_iO,ca=a.A_m,Y=a.A_c,y=a.O_k,X=a.O_dP,Da=a.O_gOPN,qa=a.O_gOPD,Ea=a.O_gOPDs,ga=a.O_dG,ra=a.O_dS,Fa=a.O_tS,ha=a.J_p,ia=a.J_s,t=a.c_l,Ga=a.c_i,P=
a.c_w,da=a.c_e,u=a.c_d,Ha=a.M_f,sa=a.M_r,ta=a.M_m,ua=a.S_fCC,ja=a.S_m,va=a.S_su,wa=a.S_sp,T=a.S_r,Ia=a.S_se,xa=a.S_cCA,ya=a.S_tLC,Ja=a.S_tUC,Ka=a.R_rAAB,za=a.D_pFS,La=a.X_o,Ma=a.X_sRH,Na=a.X_oMT,Oa=a.X_gARH,Pa=a.X_gRH,Qa=a.X_s,Ra=a.X_a,Sa=a.N_tS,ka=a.D_n;a.domContentLoaded|=0;a.pageLoaded|=0;a.domNodeInserted|=0;a.props={};var aa=function(){var E=[],d=function(a){if(document.body)a&&(a(),a=null);else{var c=["load","DOMNodeInserted","DOMContentLoaded"],b=function(){f(c,function(a){A.removeEventListener(a,
b,!1)});d(a)};f(c,function(a){A.addEventListener(a,b,!1)})}},na=function(b){e(E,function(){c.setTimeout(b,1)});a.domContentLoaded&&h.runListeners()},h={runListeners:function(){for(var a;a=pa(E);)a()},run:function(c){var f=function(){Ta.create(c)};"document-start"==c.script.options.run_at?(b&&u('env: run "'+c.script.name+'" ASAP -> document-start'),f()):"document-body"==c.script.options.run_at?(b&&u('env: schedule "'+c.script.name+'" for document-body'),d(f)):"context-menu"==c.script.options.run_at?
(b&&u('env: run "'+c.script.name+'" ASAP -> context-menu'),f()):"document-end"==c.script.options.run_at?(b&&u('env: schedule "'+c.script.name+'" for document-end'),e(E,f),a.domContentLoaded&&h.runListeners()):(b&&u('env: schedule "'+c.script.name+'" for document-idle'),na(f))}};return h}();(n||b)&&u("env: initialized (content, id:"+va(r,0,10)+"..., "+c.location.origin+c.location.pathname+") ");var U={createUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=
16*sa()|0;return Sa("x"==a?c:c&3|8,16)})},toType:function(a){return ja(Fa(a,{}),new c.RegExp("\\s([a-z|A-Z]+)"))[1]}},V={UTF8:{encode:function(a){return c.unescape(c.encodeURIComponent(a))},decode:function(a){return c.decodeURIComponent(c.escape(a))}},Base64:{encode:function(a){for(var b="",d=0;d<a.length;d++)b+=ua(xa(a,d)&255);return c.btoa(b)},decode:function(a){return c.atob(a)}},str2arrbuf:function(a){for(var b=new c.Uint8Array(a.length),d=0;d<a.length;d++)b[d]=xa(a,d);return b.buffer},arrbuf2str:function(a){var b=
"";a=new c.Uint8Array(a);for(var d=0;d<a.length;d+=32687)b+=p(ua,null,a.subarray(d,d+32687));return b}},N=function(){var a={},c,d=function(c){var b=[],d=[],h=function(){n=d=b=null;delete a[c]},n={postMessage:function(a){m.send("port.message",{response_id:c,value:a})},onMessage:{addListener:function(a){e(b,a)}},onDisconnect:{addListener:function(a){e(d,a)}},disconnect:function(){m.send("port.message",{response_id:c,disconnect:!0});h()}};a[c]={message:function(a){b&&f(b,function(c){c(a)})},disconnect:function(a){d&&
f(d,function(c){c(a)});h()}};return n};return{message:function(e){var h;e.connect?c&&c(e.destination,d(e.response_id)):(h=a[e.response_id])?e.disconnect?h.disconnect():h.message(e.value):b&&P("ports: unkown id",e.response_id,e)},connect:function(a){var c=U.createUUID();m.send("port.message",{response_id:c,connect:!0,destination:a});return d(c)},onConnect:{addListener:function(a){c=a}}}}(),oa=function(){var a={objs:{},push:function(c,b){0!==b&&1!==b&&(b=0);var d=Ha(19831206*sa()+1);a.objs[d]={fn:c,
prio:b};return d},remove:function(c){delete a.objs[c]},get:function(c){for(var b=[],d=0;1>=d;d++)f(y(a.objs),function(h){a.objs[h].prio!==d||void 0!==c&&h!=c||e(b,a.objs[h].fn)});return void 0===c?b:b[0]},finalize:function(c){if(void 0===c){c=a.get();for(var b=0;b<c.length;b++)c[b]()}else return a.objs[c]&&(b=a.objs[c].fn(),delete a.objs[c]),b}};return a}(),h=z.statistics?function(a,b){c.setTimeout(function(){m.send("api",{name:a,type:b},null)},1)}:function(){},W=function(){var a=function(){var a=
0,b={},d={register:function(e,f,m){h("GM_registerMenuCommand");var p=N.connect("registerMenuCommand");p.onMessage.addListener(function(a){"run"===a&&c.setTimeout(f,1)});p.onDisconnect.addListener(function(){d.unregister(J)});p.postMessage({method:"register",name:e,accessKey:m});n&&t("env: registerMenuCommand "+M(f));var J=++a;b[J]=p.disconnect;return J},unregister:function(a){h("GM_unregisterMenuCommand");n&&t("env: unregisterMenuCommand "+a);var c;if(c=b[a])c(),delete b[a]}};return d}(),d=function(a,
c){h("GM_openInTab");var d=null,f=!1,n=null,m,p=function(){var a=[];return{run:function(c){c&&e(a,c);if(d)for(;a.length;)Q(a)()}}}(),t=N.connect("openInTab");t.onMessage.addListener(function(a){a.tabId?f?y():(d=a.tabId,p.run()):a.name?m=a.name:a.close&&(f=!0,n&&(n(),n=void 0))});t.onDisconnect.addListener(function(){t=null});t.postMessage({method:"openTab",url:a,options:c});var y=function(){t&&t.postMessage({method:"closeTab"})},x={};X(x,{close:{value:function(){h("GM_openInTab.close");f?b&&u("env: attempt to close already closed tab!"):
(f=!0,y())}},closed:{get:function(){h("GM_openInTab.closed");return f}},onclose:{get:function(){return n},set:function(a){h("GM_openInTab.onclose=");n=a}},name:{get:function(){return m},set:function(a){p.run(function(){h("GM_openInTab.name=");t&&t.postMessage({method:"nameTab",name:a})})}}});return x},na=function(a,b){h("GM_download");var d="Object"===U.toType(a)?a:{url:a,name:b},e=function(a,b){b=b||{};a&&c.setTimeout(function(){p(a,b,[b])},1)},f=N.connect("download");f.onMessage.addListener(function(a){try{a.load?
d.onload&&e(d.onload,a.data):a.progress?d.onprogress&&e(d.onprogress,a.data):a.timeout?d.ontimeout&&e(d.ontimeout,a.data):d.onerror&&e(d.onerror,a.data)}catch(c){t("env: Error: TM_download - ",c,d)}});f.onDisconnect.addListener(function(){f=null});f.postMessage({details:d});return{abort:function(){f&&f.disconnect();f=null}}},Z={};return{log:function(){h("GM_log");p(t,this,arguments)},addStyle:function(a,c){h("GM_addStyle");var b=U.createUUID();m.send("addStyle",{css:a,id:b},c?function(){c()}:null);
return A.getElementById(b)},closeTab:function(a){h("window.close");m.send("closeTab",null,a?function(){a()}:null)},focusTab:function(a){h("window.focus");m.send("focusTab",null,a?function(){a()}:null)},setClipboard:function(a,c,b){h("GM_setClipboard");m.send("setClipboard",{content:a,info:c,id:r},b?function(){b()}:null)},syntaxCheck:function(a,c){m.send("syntaxCheck",{code:a},function(a){c(a)})},of:function(u){var B=u.script,F=function(){var a=[],d=u.storage,v=0,q=function(a,x){if("string"===typeof a){var l=
a[0];a=va(a,1);switch(l){case "b":return"true"===a;case "n":return c.Number(a);case "o":try{return ha(a)}catch(b){t("values: parseValueFromStorage: "+b)}return x;default:return a}}else return x},C=function(c,d,l,g){d!=l&&f(a,function(a){if(a&&a.key==c&&a.cb)try{a.cb(c,q(d),q(l),g)}catch(x){b&&P('values: change listener of "'+c+'" failed with: '+x.message)}})},k=function(a){g.postMessage({method:"saveStorageKey",uuid:B.uuid,key:a,value:d.data[a],id:r,ts:d.ts})},g=N.connect("values");g.onMessage.addListener(function(a){a.storage&&
f(y(a.storage.data),function(c){var l=d.data[c];d.data[c]=a.storage.data[c];var x=d.data[c];n&&t("values: message - config key "+c+": "+l+" -> "+x);C(c,l,x,!0)});a.removed&&(d[a.removed]=void 0)});g.onDisconnect.addListener(function(){b&&t("values: port disconnected")});g.postMessage({method:"addStorageListener",uuid:B.uuid,id:r});return{set:function(a,c){h("GM_setValue");var l=d.data[a];d.ts=ka();var x=d.data,b;a:{b=c;var g=(typeof b)[0];switch(g){case "o":try{b=g+ia(b)}catch(v){t(v);b=void 0;break a}break;
default:b=g+b}}x[a]=b;k(a);C(a,l,d.data[a],!1)},get:function(a,c){h("GM_getValue");return q(d.data[a],c)},remove:function(a){h("GM_deleteValue");var c=d.data[a];d.ts=ka();delete d.data[a];k(a);C(a,c,d.data[a],!1)},list:function(){h("GM_listValues");return y(d.data)},registerChangeListener:function(c,b){h("GM_addValueChangeListener");var l=++v;e(a,{id:l,key:c,cb:b});return l},unregisterChangeListener:function(c){h("GM_removeValueChangeListener");a=R(a,function(a){return a.id!==c?!0:!1})}}}(),A=function(){return{getText:function(a){h("GM_getResourceText");
for(var c=0;c<B.resources.length;c++){var b=B.resources[c];if(b.name==a&&!b.failed){try{if(null!==b.content)return V.UTF8.decode(b.content)}catch(d){}return""}}return null},getURL:function(a){h("GM_getResourceURL");for(var c=0;c<B.resources.length;c++){var b=B.resources[c];if(b.name==a&&!b.failed){if(null===b.content)return"";try{return"data:"+(b.meta||"application")+";base64,"+V.Base64.encode(b.content)}catch(d){}return b.url}}return null}}}(),D=function(){return{set:function(a,c){h("GM_setTab");
m.send("tabsSet",{uuid:B.uuid,tab:a},c?function(){c()}:null)},get:function(a){h("GM_getTab");m.send("tabsGet",{uuid:B.uuid},a?function(c){a(c||{})}:null)},getAll:function(a){h("GM_getTabs");m.send("tabsGetAll",{uuid:B.uuid},a?function(c){a(c||{})}:null)}}}(),I=function(a){h("GM_xmlhttpRequest");var b=!1,d=a.context;delete a.context;var q=function(){var a={};f(y(c.XMLHttpRequest.__proto__),function(c){a[c]=!0});var b=function(){};f(y(c.XMLHttpRequest),function(d){a[d]||(b[d]=c.XMLHttpRequest[d])});
return b}(),C=function(){b=!0},k=function(a,d){d=d||{};a&&!b&&c.setTimeout(function(){d.__proto__=q;p(a,d,[d])},1)};"object"===typeof a.url&&a.url.href&&(a.url=a.url.href);var g=function(a,b){var d=new c.FileReader;d.onload=function(){b(V.arrbuf2str(d.result))};Ka(d,a)},fa=function(a,b){var d,x,k,v=U.toType(a);if("Blob"===v||"File"===v)g(a,function(c){b({type:v,value:c,meta:a.type,name:a.name,lastModified:a.lastModified})});else if("FormData"===v)if(x=a.keys&&a.getAll?a.keys():null){var f,ba={};for(d=
[];!(f=x.next()).done;)e(d,f.value);k=function(){if(d.length){var c=Q(d),g=a.getAll(c);-1===Ia(c,/\[\]$/)&&(g=g[0]);fa(g,function(a){ba[c]=a;k()})}else b({type:"FormData",value:ba})};k()}else b({error:v});else if(!(v=U.toType(a))||"Array"!==v&&"Object"!==v)b({value:a});else{var C,h,w=0;x=0;"Object"===v?(d=y(a),h=function(a){return a<d.length?d[a]:null},C={}):(h=function(c){return c<a.length?c:null},C=[]);k=function(){var d=h(w);null===d?b({type:v,value:C}):fa(a[d],function(a){a.error?b(a):(C[d]=a,
w++,1024>x++?k():(x=0,c.setTimeout(k,1)))})};k()}},O=!0;(function(c){if(a.url){var b=a.url.substr(0,5);if(-1!=["data:","blob:"].indexOf(b))return O=!1,c()}if(!a.data)return c();fa(a.data,function(b){b.error?(O=!1,P("GM_xmlhttpRequest:","unable to handle data type "+b.error+". Going to use default xhr as fallback.")):(a.binary&&(b.type="Blob"),a.data=b,a.data_type="typified");c()})})(function(){if(!b)if(O){var l=N.connect("xhr"),g=[];a.headers&&f(y(a.headers),function(c){"cookie"===ya(c)&&(a.cookie=
a.headers[c],delete a.headers[c])});l.postMessage({method:"xhr",details:a,callbacks:{onloadstart:!!a.onloadstart,onload:!!a.onload,onreadystatechange:!!a.onreadystatechange,onerror:!0,ontimeout:!!a.ontimeout,onprogress:!!a.onprogress,onpartial:!0},id:r,url:c.location.href,uuid:B.uuid});l.onMessage.addListener(function(b){b.data&&d&&(b.data.context=d);if(b.data&&b.onload){g.length&&(b.data.response_data=K(g,""),g=null);if(b.data.response_data){var l=b.data.response_data;f(["response_data"],function(a){delete b.data[a]});
var q={response:function(b){h("GM_xmlhttpRequest.response["+(a.responseType||"unknown")+"]");var d=a.responseType?ya(a.responseType):"";if("arraybuffer"==d)b=V.str2arrbuf(b);else if("blob"==d)b=new c.Blob([V.str2arrbuf(b)]);else if("json"==d)b=ha(b);else if("document"==d)return d=new c.DOMParser,za(d,b,"text/html");return b},responseText:function(a){h("GM_xmlhttpRequest.responseText");return a},responseXML:function(a){h("GM_xmlhttpRequest.responseXML");var b=new c.DOMParser;return za(b,a,"text/xml")}};
f(y(q),function(a){ga(b.data,a,function(){try{return q[a](l)}catch(c){P("GM_xmlhttpRequest:",c)}})})}k(a.onreadystatechange,b.data);k(a.onload,b.data)}else if(b.onreadystatechange)4!=b.data.readyState&&k(a.onreadystatechange,b.data);else if(b.onpartial)e(g,b.data.partial);else if(b.onerror)b.exception&&da(b.exception),k(a.onerror,b.data);else{var ba=R(["onloadstart","onprogress","ontimeout"],function(a){return!!b[a]})[0]||"onerror";k(a[ba],b.data)}});n&&l.onDisconnect.addListener(function(){t("env: GM_xmlhttpRequest.onDisconnect! :)")});
C=function(){h("GM_xmlhttpRequest.abort");l&&l.disconnect();l=null;b=!0}}else{var q=new c.XMLHttpRequest;void 0===a.async&&(a.async=!0);La(q,a.method,a.url,a.async,a.user,a.password);a.headers&&f(y(a.headers),function(c){Ma(q,c,a.headers[c])});a.overrideMimeType&&Na(q,a.overrideMimeType);a.responseType&&(q.responseType=a.responseType);f("abort error load loadstart progress readystatechange timeout".split(" "),function(c){q["on"+c]=function(){var b="",l=a.url;if(2<q.readyState&&(b=Oa(q),4==q.readyState)){b&&
(b=T(b,/TM-finalURL[0-9a-zA-Z]*\: .*[\r\n]{1,2}/,""));var g;try{g=Pa(q,"TM-finalURL"+z.short_id)}catch(e){}g&&(l=g)}b={readyState:q.readyState,status:"",statusText:"",responseHeaders:b,finalUrl:l,context:d};4==q.readyState&&(q.responseType?b.response=q.response:(b.responseText=q.responseText,b.responseXML=q.responseXML),b.status=q.status,b.statusText=q.statusText);k(a["on"+c],b)}});Qa(q,a.data);C=function(){h("GM_xmlhttpRequest.abort");Ra(q);b=!0}}});return{abort:function(){C()}}},L=function(a,c,
b,d,e){var k=null,g={id:r},fa=["timeout","text","image","title","highlight"],O=null;"object"===typeof a?O=a:"object"===typeof e&&(O=e);O?(f(fa,function(a){g[a]=O[a]}),k=O.ondone,d=O.onclick,"function"===typeof c&&(k=c)):("number"===typeof e&&(g.timeout=e),g.image=b,g.title=c,g.text=a);g.text&&(g.image=g.image||B.icon64||B.icon,g.title=g.title||B.name);h("GM_notification");g.text||g.highlight?m.send("notification",g,function(a){d&&a.clicked&&d();k&&k(!0===a.clicked)}):P("GM_notification: neither a message text nor hightlight options were given!")},
J,M=function(a,c){h("GM_webRequest");var b=function(){J==d&&(J=null);d=null};J&&J.disconnect();var d=J=N.connect("webRequest");c&&d.onMessage.addListener(function(a){c(a.type,a.message||"ok",a.details)});d.onDisconnect.addListener(b);d.postMessage({rules:a,uuid:B.uuid});return{abort:function(){h("GM_webRequest.abort");d&&d.disconnect();b()}}};Z[u.script.uuid]=Z[u.script.uuid]||{getInfo:function(){var a=u.script,c={observers:1,id:1,enabled:1,hash:1,fileURL:1},b={script:{}};f(y(a),function(d){c[d]||
(b.script[d]=a[d])});var d=a.options.updateURL||a.options.fileURL;b.script["run-at"]=a.options.override.run_at||a.options.run_at;b.script.excludes=a.options.override.orig_excludes;b.script.includes=a.options.override.orig_includes;b.script.matches=a.options.override.orig_matches;b.script.grant=a.grant;b.script.unwrap=!1;b.scriptMetaStr=u.header;b.scriptSource=u.code;b.scriptWillUpdate=!!d;b.scriptUpdateURL=d;b.version=z.version;b.scriptHandler="Tampermonkey";b.isIncognito=z.inIncognitoContext;b.downloadMode=
z.downloadMode;return b}(),registerMenuCommand:a.register,unregisterMenuCommand:a.unregister,download:na,webRequest:M,openInTab:d,setValue:F.set,getValue:F.get,deleteValue:F.remove,listValues:F.list,addValueChangeListener:F.registerChangeListener,removeValueChangeListener:F.unregisterChangeListener,getResourceText:A.getText,getResourceURL:A.getURL,notification:L,xmlhttpRequest:I,setTab:D.set,getTab:D.get,getTabs:D.getAll};return Z[u.script.uuid]}}}(),Ta=function(){var E=function(a,c,b){var d=Ea(c);
f(y(d),function(b){var k=d[b];k&&k.get&&!z.sandbox_allow_getters||("function"===typeof c[b]?a[b]=L(c[b],c):function(){ga(a,b,function(){return c[b]})}())});f(y(b),function(c){a[c]=b[c]});return a},r=function(a,b,d,e){var h={attrChange:0,attrName:null,bubbles:!0,cancelBubble:!1,cancelable:!1,clipboardData:void 0,currentTarget:null,defaultPrevented:!1,eventPhase:0,newValue:null,prevValue:null,relatedNode:null,returnValue:!0,srcElement:null,target:null,timeStamp:ka()};d="string"===typeof d?new c.Function(d):
d;var k=new Event;f(y(h),function(a){k[a]=h[a]});f(y(b),function(a){k[a]=b[a]});k.type=a;p(d,e,[k])},A=function(a,c,b){void 0===b&&(b=function(a){return a});var d={GM_info:!0};f(a,function(a){d[a]=!0});return R(c,function(a){return d[b(a.name)]})},Z=function(a,b){void 0===b&&(b=100);return b&&a&&(a==document||Z(a.parentNode,b-1))},N=function(){var b=null;return function(c){b||(b={instance:c,is_open:!1},f(["write","writeln","open","close"],function(d){b[d]=c[d];c[d]=function(){var e=!1;-1!=S(["write",
"writeln","open"],d)?b.is_open?e=!0:b.is_open=!0:"close"===d&&(b.is_open=!1);!e&&b.is_open&&m.send("document.write");var h=document.documentElement,k=p(b[d],c,arguments);if(!e&&b.is_open)return h!==document.documentElement&&(b.instance!==c&&(b=null,N(document)),f(a.write_listeners,function(a){a(document)})),k}}))}}(),B={},F=[],Q=function(f,h,v){if(!f.__addEventListener){X(f,{__addEventListener:{value:f.addEventListener,enumerable:!1,configurable:!1},__removeEventListener:{value:f.removeEventListener,
enumerable:!1,configurable:!1}});var q=[],m=function(a){for(var b=0;b<q.length;b++)if(q[b].fn===a)return b};f.removeEventListener=function(a,b,c){c=!!c;var d,k;if(void 0!==(d=m(b))&&(k=q[d].listeners)){if(b=k[a+"-"+c])this.__removeEventListener(a,b,c),delete k[a+"-"+c];Da(k).length||I(q,d,1)}else this.__removeEventListener(a,b,c)};var k=function(a,b,d,l){if(b){var k=F.length;b=c.parseInt(K(["DOMContentLoaded"==d?1:2,l?1:2,l?b:3-b,ka()],"0"));for(d=0;d<F.length;d++)if(l=F[d],!l||!l.prio||l.prio>b){k=
d;break}I(F,k,0,{prio:b,fn:a})}else e(F,{fn:a})};f.addEventListener=function(g,f,x){(n||D)&&t("env: addEventListener "+g);if(1==h&&"load"==g||"DOMContentLoaded"==g||"DOMNodeInserted"==g){x=!!x;var l,G=!0,p=this;try{try{throw new c.Error;}catch(la){var u=/tms_[0-9a-f_]+/,H=la.stack||la.stacktrace;if(H)for(var y=wa(H,"\n"),Aa,H=0;H<y.length&&(!(Aa=ja(y[H],u))||!(l=B[Aa[0]]));H++);else{var Ba=function(a,d){void 0===d&&(d=10);if(0===d)return null;if(a.caller){var l,g;try{return g=M(a.caller),ja(g,new c.RegExp("^function[^(]+"))&&
(void 0).length&&(l=ja((void 0)[0],u))?l[0]:Ba(a.caller,d-1)}catch(k){b&&P("env: unable to detect caller context",k)}}return null},Ca;if(Ca=Ba(arguments.callee))l=B[Ca]}}}catch(la){b&&da("env: Error: event "+g,la)}l&&"document-idle"!==l.run_at&&(l=null,"load"==g?a.pageLoaded&&(l=function(){var a=p.document||p;(n||D)&&t("env: postLoadEvent!");a=a||document;r("load",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:c.Event.AT_TARGET,attrChange:c.MutationEvent.ADDITION,target:a,relatedNode:a,
srcElement:a},f,p)},G=!1,k(l,h,g,x)):"DOMContentLoaded"==g&&a.domContentLoaded&&(l=function(){var a=p.document||p;(n||D)&&t("env: postDomEventListener!");a=a||document;r("DOMContentLoaded",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:c.Event.AT_TARGET,attrChange:c.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},f,p)},G=!1,k(l,h,g,x)),l&&(c.setTimeout(function(){if(F.length){var a=pa(F);a&&a.fn&&a.fn()}},1),G=!1));G&&(l=function(a){return ea(d,[f,this,v(a)],0,!0,p)},void 0===
(G=m(f))&&(G=q.length,e(q,{fn:f,listeners:{}})),q[G].listeners[g+"-"+x]=l,this.__addEventListener(g,l,x))}else this.__addEventListener(g,f,x)};e(oa,function(){f.removeEventListener=f.__removeEventListener;f.addEventListener=f.__addEventListener})}},V=function(a){a.__evaluate||(X(a,{__evaluate:{value:a.evaluate,enumerable:!1,configurable:!1}}),a.evaluate=function(a,b,c,d,k){n&&t("env: document.evaluate "+a);b||(b=this);var g;if("undefined"!=typeof XPathResult){var f=a,e=null;try{g=this.__evaluate(f,
b,c,d,k)}catch(h){e=h}var l=!1;try{l|=!!g.snapshotLength}catch(h){}try{l|=!!g.singleNodeValue}catch(h){}if(l||"."==a[0]||Z(b))n&&t("env: queried document for "+f);else{n&&t("env: query added elem for "+f);f=("/"==a[0]?".":"./")+a;try{g=this.__evaluate(f,b,c,d,k)}catch(h){}}n&&t("env: query returned ",g,e);if(!l&&e)throw e;}else n&&t("env: XPathResult == undefined, but selectNodes via ",a),g=b.selectNodes(a);return g},e(oa,function(){a.evaluate=a.__evaluate}))},ea=function(a,b,d,f,e){var k=b[d],g=
typeof k;f&&"string"===g?b[d]=new c.Function(k):e&&"function"===g&&(b[d]=function(){return p(k,e,arguments)});return p(a,window,b)},aa=function(b,d){var e=["eval"],h={};f(b,function(a){a.context_prop&&(h[(a.name.split(".")||[])[1]]=!0)});var m=function(a,b,d,m){var l=function(c){return c===b?a:c},G=function(a,b,c,d){c||(c=a);var l=function(){var l=p(a[b],c,arguments);d&&(l=d(l));return l};l.__proto__=a[b];l.prototype=a[b].prototype;return l},x=function(b){var d,l=null,g=b.replace(/^on/,""),e,l=function(b){(d=
b)&&!e?(e=function(){if("function"===typeof d)return p(d,a,arguments)},c.addEventListener(g,e,!0)):!d&&e&&(c.removeEventListener(g,e,!0),e=null)};ga(a,b,function(){return d});ra(a,b,l)},t=function(c,d){var e,f=null,h=null,f="function"===typeof d.get?d.get:function(){d.opts&&d.opts.get_cb&&p(d.opts.get_cb,this,[arguments,t]);return void 0===e?l(b[c]):e};"function"===typeof d.set?h=d.set:d.get||(h=function(a){e=a});f&&ga(a,c,f);h&&ra(a,c,h)};f(y(m),function(a){d[a]=d[a]||!1!==m[a]});var H=z.sandbox_allow_getters,
ba=z.detect_constructors_by_keys;f(y(d),function(c){if(!1!==m[c]){var f,p,C,w={};try{var r=qa(b,c);try{if(!(f=m[c])||f.needs_grant&&!0!==h[c])if(d[c].event)w.event=!0;else if(r&&r.get)if(H)w.get=!0;else{n&&u("sandbox: ignore getter",c,r);return}else"function"===(C=typeof(p=b[c]))?d[c].proto?w.wrap=!0:(qa(p,"prototype")||ba&&y(p).length)&&!r.enumerable||-1!=S(e,c)||!p.bind?w.direct=!0:w.bind=!0:"number"===C||"string"===C?w.get=!0:w.direct=!0;else if(f.wrap)w.wrap=!0,w.that=f.that;else if(f.direct)w.direct=
!0;else if(f.enhance)w.enhance=f.enhance;else if(f.get||f.set)w.get=f.get,w.set=f.set,w.opts=f.opts}catch(E){w.get=!0}w.enhance?(n&&u("sandbox: original["+c+"] -> enhanced reference"),a[c]=w.enhance):r&&r.get&&!H?n&&u("sandbox: ignore getter",c,r):w.event?(n&&u("sandbox: original["+c+"] -> event reference"),x(c)):w.get||w.set?(n&&u("sandbox: original["+c+"] -> "+("function"===typeof w.get||"function"===typeof w.set?"enhanced ":"")+"getter/setter reference"),t(c,w)):w.wrap?(n&&u("sandbox: original["+
c+"] -> wrapped reference "),a[c]=G(b,c,w.that,l)):w.direct?(n&&u("sandbox: original["+c+"] -> direct reference"),a[c]=l(b[c])):w.bind&&(n&&u("sandbox: original["+c+"] -> bound reference"),a[c]=L(b[c],b))}catch(E){P("env: error while creating a new sandbox: "+E.message)}}});return a};return function(){var b=new Window,e={setTimeout:{enhance:function(){return ea(c.setTimeout,arguments,0,!0,b)}},setInterval:{enhance:function(){return ea(c.setInterval,arguments,0,!0,b)}},close:{needs_grant:!0,get:function(){return c.self==
c.top?function(a){return W.closeTab(a)}:c.close}},focus:{needs_grant:!0,get:function(){return function(a){return W.focusTab(a)}}},location:{get:!0,set:function(a){c.location.href=a}},document:{get:function(){var a=c.document;d(a);return a}},clearInterval:{get:function(){return c.clearInterval}},clearTimeout:{get:function(){return c.clearTimeout}},addEventListener:{enhance:function(){return ea(c.addEventListener,arguments,1,!0)}},removeEventListener:{enhance:function(){return ea(c.removeEventListener,
arguments,1,!0)}}};(function(){var a=ta(c.frames.length,7);e.length={get:!0,opts:{get_cb:function(b,d){for(var e=c.frames.length,f=a;f<e;f++)d(c.String(f),{get:!0});a=ta(e,a)}}};for(var b=0;b<a;b++)e[c.String(b)]={get:!0}})();f(y(c),function(a){c[a]!=window&&(e[a]=e[a]||{enhance:c[a]})});var h=m(b,window,a.windowProps,e),n={context:h,filter:function(a){return a==window?h:a},filterEvent:function(a){var b={},c;for(c in a)if("function"===typeof a[c])b[c]=function(){var b=c;return function(){return p(a[b],
a,arguments)}}();else{var d=n.filter(a[c]);b[c]=d}return b}};return n}()},J=function(){return E({},c.console,{debug:u,log:t,info:Ga,warn:P,error:da})},ha=function(d,h,n,m,t,k){var g=null,r=function(){return"[Tampermonkey property]"};try{var u=m.sandboxes[d.uuid],l=["context","fapply"],G=[void 0,void 0];f(m.elements[d.uuid],function(a){a.name?(a.overwrite?(e(l,a.name),e(G,a.value)):a.context_prop||(u[a.name]=a.value,e(l,a.name),e(G,"context."+a.name)),a.protect&&u[a.name]&&(u[a.name].toString=r)):
b&&P("env: WARN: unexpected item in props elem: "+ia(a))});var E,g=K(["(function(context, fapply, console) {","with (context) {","(function(module) {",'"use strict";',"try {\n",z.measure_scripts?'console.time("'+(E="SCRIPT RUN TIME["+d.name.replace(/\W+/g," ")+"]")+'");\n':"","fapply(module, context, [",K(G,","),"]);",z.measure_scripts?'console.timeEnd("'+E+'");\n':"","} catch (e) {","if (e.message && e.stack) {","console.error(\"ERROR: Execution of script '",T(d.name,new c.RegExp("[\"']","g"),"\\$1"),
"' failed! \" + e.message);",'console.log(e.stack.replace(/(\\\\(eval at )?<anonymous>[: ]?)|([\\s.]*at Object.tms_[\\s\\S.]*)/g, ""));',"} else {","console.error(e);","}","}\n","})","(function ",k,"(",K(l,","),") {",z.enforce_strict_mode?'"use strict";\n':"",n,h,"\n","})","}","})(this.context, this.fapply, this.console)"],""),A={context:u,fapply:p,console:J()};t?t(g,A):a.E_c(g,A)}catch(H){W.syntaxCheck(K([n,h],""),function(a){var e="";if(a.errors){var l=wa(n,"\n").length-1,g="";a.errors&&f(y(a.errors),
function(b){if((b=a.errors[b])&&0<=b.line&&b.reason){var c=b.line;g+=K([c>l?"script:":"require:"," (",b.code,") ",T(b.reason,/.$/,"")," on line: ",c>l?c-l:c," at character: ",b.character,"\n"],"")}});e="JSHINT output:\n"+g}else e=h;var k=H.stack?T(H.stack,/(\\(eval at )?<anonymous>[: ]?)|([\s.]*at Object.tms_[\s\S.]*)/g,""):"";b||a.errors?da('Syntax error @ "'+d.name+'"!\n##########################\n'+e+"##########################\n\n"+k):da('Syntax error @ "'+d.name+'"!\n\n',k);c.setTimeout(function(){throw H;
},1)})}};return{create:function(d){var m=d.script,v=[],q=-1!==S(m.grant,"none")?function(b,c){a.E_u(b,c)}:null,r=m.namespace+"_"+!!q;void 0===a.props[r]&&(a.props[r]={sandboxes:{},elements:{}},e(oa,function(){a.props[r]=null}));e(v,{name:"CDATA",value:function(a){h("CDATA");this.src=a;this.toXMLString=this.toString=function(){return this.src}}});e(v,{name:"uneval",value:function(a){h("window.uneval");try{return"\\$1 = "+ia(a)+";"}catch(b){t(b)}}});e(v,{name:"define",value:void 0});e(v,{name:"module",
value:void 0});e(v,{name:"exports",value:void 0});var k=[],g=W.of(d);h(m.options.run_at||"<default>","run_at");if(q)h("none","grant");else{h("sandbox","grant");e(v,{name:"window",value:"context",overwrite:!0});var E={window:window};f(y(E),function(a){var b="unsafe"+T(a,/^(.)/g,function(a){return Ja(a)});e(v,{name:b,value:E[a]});-1!=S(m.grant,b)&&h(b,"grant")});e(v,{name:"console",value:J()});e(v,{name:"cloneInto",value:function(a){h("compat.cloneInto");return a}});e(v,{name:"exportFunction",value:function(a,
b,c){h("compat.exportFunction");c&&void 0!==c.defineAs&&(b[c.defineAs]=a);return a}});e(v,{name:"createObjectIn",value:function(a,b){h("compat.createObjectIn");var c={};b&&void 0!==b.defineAs&&(a[b.defineAs]=c);return c}});e(k,{name:"GM_addStyle",value:W.addStyle});e(k,{name:"GM_deleteValue",value:g.deleteValue});e(k,{name:"GM_listValues",value:g.listValues});e(k,{name:"GM_getValue",value:g.getValue});e(k,{name:"GM_setValue",value:g.setValue});e(k,{name:"GM_log",value:W.log});e(k,{name:"GM_registerMenuCommand",
value:g.registerMenuCommand});e(k,{name:"GM_unregisterMenuCommand",value:g.unregisterMenuCommand});e(k,{name:"GM_openInTab",value:g.openInTab});e(k,{name:"GM_addValueChangeListener",value:g.addValueChangeListener});e(k,{name:"GM_removeValueChangeListener",value:g.removeValueChangeListener});e(k,{name:"GM_xmlhttpRequest",value:g.xmlhttpRequest});e(k,{name:"GM_download",value:g.download});e(k,{name:"GM_webRequest",value:g.webRequest});e(k,{name:"GM_setClipboard",value:W.setClipboard});e(k,{name:"GM_getTab",
value:g.getTab});e(k,{name:"GM_setTab",value:g.setTab});e(k,{name:"GM_saveTab",value:g.setTab});e(k,{name:"GM_getTabs",value:g.getTabs});e(k,{name:"GM_notification",value:g.notification});e(k,{name:"GM_getResourceText",value:g.getResourceText});e(k,{name:"GM_getResourceURL",value:g.getResourceURL});e(k,{name:"window.close",context_prop:!0});e(k,{name:"window.focus",context_prop:!0})}e(k,{name:"GM_info",value:g.getInfo});v=Y(v,A(m.grant,ca(k,function(a){a.protect=!0;return a})));m.options.compat_prototypes&&
((n||b)&&t("env: option: add toSource"),c.Object.prototype.toSource||X(c.Object.prototype,{toSource:{value:function(){h("Object.toSource");var a=U.toType(this);if("String"===a)return'(String("'+T(this,new c.RegExp('"',"g"),'\\"')+'"))';if("Number"===a)return'(Number("'+c.Number(this)+'"))';if("Array"===a){for(var a="(new Array(",b=0;b<this.length;b++){var d=U.toType(this[b]),a="Null"===d?a+"null":"Undefined"===d?a+"undefined":a+this[b].toSource();b+1<this.length&&(a+=",")}return a+"))"}return'JSON.parse(unescape("'+
c.escape(ia(this))+'"))'},enumerable:!1,writable:!0,configurable:!0}}),(n||b)&&t("env: option: add some array generics"),f("indexOf lastIndexOf filter forEach every map some slice".split(" "),function(a){if("function"!==typeof c.Array[a]){var b={};b[a]={value:function(b){h("Array."+a);return p(c.Array.prototype[a],b,p(ma.wrappedJSObject,arguments,[1]))},enumerable:!1,writable:!0,configurable:!0};X(c.Array,b)}}));k="";if(q)g=new Window;else{var z=aa(v,function(a){V(a);N(a);Q(a,2,z.filterEvent)}),g=
{run_at:m.options.run_at,uuid:m.uuid},k="tms_"+T(m.uuid,/-/g,"_");B[k]=g;Q(z.context,1,z.filterEvent);g=z.context}a.props[r].sandboxes[m.uuid]=g;a.props[r].elements[m.uuid]=v;(n||b)&&u("env: execute script "+m.name+" @ the "+(q?"un":"")+"safe context now!");ha(m,d.code,d.requires,a.props[r],q,k)}}}();(function(){if(z.external_connect){var a;if(a=window.external){var b=function(a,b){m.send("external.message",a,function(a){b&&b(a)})};try{X(a,{Tampermonkey:{get:function(){return{getVersion:function(a){b({method:"getVersion"},
a)},isInstalled:function(a,c,d){"function"===typeof c&&(d=c,c=null);b({method:"isInstalled",script:{name:a,namespace:c}},d)}}},configurable:!0}})}catch(c){}}}})();m.onMessage.setListener(function(c){var d=c.a;"load"==c.m?(a.pageLoaded=!0,aa.runListeners()):"DOMContentLoaded"==c.m?(a.domContentLoaded=!0,aa.runListeners()):"setForeignAttr"==c.m?window[d.attr]=d.value:"port.message"==c.m?N.message(d):"executeScript"==c.m?aa.run(c.a):"cleanup"==c.m?m.cleanup():b&&t("env: unkown method",c)});b&&t("Tampermonkey started");
f(a.scripts,function(a){aa.run(a)})}}}());
